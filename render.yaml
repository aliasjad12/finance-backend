services:
  - type: web
    name: finance-backend
    env: python
    plan: free
    rootDir: .                       # root-level Flask app
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements_backend.txt
    startCommand: ./start.sh
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS
        value: finalyear-3b277-firebase-adminsdk-fbsvc-b2c4c69496.json

  - type: web
    name: predict-api
    env: python
    plan: free
    rootDir: future_prediction    
    pythonVersion: 3.10.14    # ðŸ‘ˆ build context = that folder
    buildCommand: |
      pip install --upgrade pip
      pip install numpy Cython wheel
      pip install -r ../requirements_predict.txt
    startCommand: python predict_api.py
    envVars:
      - key: GOOGLE_APPLICATION_CREDENTIALS
        value: finalyear-3b277-firebase-adminsdk-fbsvc-b2c4c69496.json
